{"version":3,"file":"static/webpack/static/development/pages/posts/[id].js.9ed3efa0f05d10d38c51.hot-update.js","sources":["webpack:///./pages/posts/.js"],"sourcesContent":["import { useRouter } from \"next/router\";\nimport ErrorPage from \"next/error\";\nimport readTimeEstimate from \"read-time-estimate\";\nimport Container from \"../../components/container\";\nimport PostBody from \"../../components/post-body\";\nimport MoreStories from \"../../components/more-stories\";\nimport Header from \"../../components/header\";\nimport PostHeader from \"../../components/post-header\";\nimport SectionSeparator from \"../../components/section-separator\";\nimport Layout from \"../../components/layout\";\nimport { getPostDataById, getAllPostsWithId } from \"../../lib/api\";\nimport PostTitle from \"../../components/post-title\";\nimport Head from \"next/head\";\nimport { CMS_NAME } from \"../../lib/constants\";\nimport markdownToHtml from \"../../lib/markdownToHtml\";\n\nfunction readTime(content) {\n  const {\n    humanizedDuration,\n    duration,\n    totalWords,\n    wordTime\n  } = readTimeEstimate(content);\n\n  return {\n    humanizedDuration,\n    duration,\n    totalWords,\n    wordTime\n  };\n}\n\nexport default function Post({ post }) {\n  const router = useRouter();\n\n  if (!router.isFallback && !post?.slug) {\n    return <ErrorPage statusCode={404} />;\n  }\n\n  const readTimeData = readTime(post.postContent);\n\n  return (\n    <Layout>\n      <Container>\n        <Header />\n        {router.isFallback ? (\n          <PostTitle>Loadingâ€¦</PostTitle>\n        ) : (\n          <>\n            <article className=\"flex flex-col justify-center\">\n              <Head>\n                <title>\n                  {post.title} | Next.js Blog Example with {CMS_NAME}\n                </title>\n              </Head>\n              <PostHeader\n                readTime={readTimeData}\n                title={post.title}\n                coverImage={post.coverImage}\n                date={post.createdAt}\n                author={post.author}\n              />\n              <PostBody content={post.postContent} />\n            </article>\n            <SectionSeparator />\n          </>\n        )}\n      </Container>\n    </Layout>\n  );\n}\n\nexport async function getStaticPaths() {\n  const allPosts = await getAllPostsWithId();\n  const paths = allPosts?.map(post => `/posts/${post.id}`);\n\n  return {\n    paths,\n    fallback: true\n  };\n}\n\nexport async function getStaticProps({ params }) {\n  const data = await getPostDataById(params.id);\n\n  return {\n    props: {\n      post: {\n        ...data?.content[0]\n      }\n    }\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;A","sourceRoot":""}